# Specification Revision: Direct Debate Viewing

**Date**: December 13, 2025  
**Feature**: Topic Discovery via History Integration (US6 / 002-topic-autocomplete)  
**Revision Type**: UX Flow Simplification  
**Status**: ✅ Complete

## Summary

Updated specification to align with implemented behavior: autocomplete selection now navigates directly to the debate viewer instead of pre-filling PanelistSelection page.

## What Changed

### Original Flow (As Specified)
1. User types topic → autocomplete dropdown appears
2. User selects debate from dropdown
3. Navigate to **PanelistSelection** with pre-filled panelists
4. User can modify panelists or keep them
5. Click "Generate Debate" (or "View Debate" if cache hit)
6. View debate result

### Revised Flow (As Implemented)
1. User types topic → autocomplete dropdown appears
2. User selects debate from dropdown
3. Navigate directly to **/d/{debate.id}** debate viewer
4. View complete existing debate

### Rationale

**Benefits of Simplified Flow**:
- **Fewer clicks**: 2 steps instead of 4-5 to view existing debate
- **Clear intent separation**: Autocomplete = view existing debates, "Find Panelists" button = create new debates
- **No complexity**: Removes need for cache detection logic, button labeling variations, and panelist modification tracking
- **Reuses existing code**: DebateViewer component works without modifications

**User Impact**:
- Users wanting to **view existing debates** get faster access (primary autocomplete use case)
- Users wanting to **regenerate with modifications** must use "Find Panelists" flow (normal workflow, not blocked)

## Files Updated

### Specification Files
- [spec.md](spec.md) - Updated clarifications, acceptance scenarios, functional requirements, edge cases, and E2E tests
- [plan.md](plan.md) - Updated summary, navigation decision, data model, files to modify, and success criteria
- [tasks.md](tasks.md) - Updated goal, test steps, T012/T013 descriptions, added implementation notes

### Implementation Files (Already Correct)
- [frontend/src/pages/Home.jsx](../../frontend/src/pages/Home.jsx#L40) - `navigate(\`/d/${debate.id}\`)`
- [frontend/src/pages/PanelistSelection.jsx](../../frontend/src/pages/PanelistSelection.jsx) - Reverted pre-fill logic (not needed)

## Requirements Mapping Changes

| Requirement | Original | Revised | Status |
|-------------|----------|---------|--------|
| FR-017 | Skip Claude validation on autocomplete selection | **Unchanged** | ✅ Met |
| FR-018 | Navigate to PanelistSelection with pre-filled panelists | Navigate directly to /d/{debate.id} | ✅ Met (revised) |
| FR-019 | Pass navigation state for pre-filling | **Removed** (not needed) | N/A |
| FR-020 | Allow panelist modifications before generation | Changed to: Provide navigation back to home | ✅ Met (revised) |
| FR-021 | Always generate new debate from autocomplete | Changed to: Display existing debate (no generation) | ✅ Met (revised) |

## Task Status Updates

| Task | Original Description | Status | Notes |
|------|---------------------|--------|-------|
| T012 | Navigate to /panelist-selection with state | ✅ Complete | Updated description to reflect /d/{debate.id} navigation |
| T013 | Pre-fill PanelistSelection from state | ✅ Complete | Marked as **CHANGED** - implementation uses different approach |

## Edge Cases Revised

| Case | Original | Revised |
|------|----------|---------|
| EC-008 | User modifies pre-filled panelists | User wants to regenerate debate → must use "Find Panelists" flow |

## Acceptance Scenarios Updated

| # | Original | Revised |
|---|----------|---------|
| 4 | Navigate to panelist selection with pre-selected panelists | Navigate directly to debate viewer to display existing debate |
| 8 | User can modify panelists or keep as-is before generating | User sees complete previously-generated debate |

## Success Metrics Revised

| Metric | Original | Revised |
|--------|----------|---------|
| Primary | Autocomplete adoption rate: % debates created via pre-fill | Autocomplete usage rate: % debate views via autocomplete |
| Secondary | Time saved reaching debate generation | Time saved viewing existing debates |

## Validation Status

- ✅ All specification files updated for consistency
- ✅ Implementation already matches revised specification
- ✅ No code changes required
- ✅ Constitution compliance maintained (UX improvement, simpler architecture)
- ✅ All acceptance scenarios achievable with implemented flow
- ✅ Graceful degradation preserved

## Next Steps

**No action required** - specification now accurately reflects the implemented behavior. Feature is complete and ready for user acceptance testing.

### For Future Enhancements

If users request the ability to **regenerate debates with modified panelists**, consider:
1. Add "Remix this debate" button in DebateViewer
2. Navigate to PanelistSelection with pre-filled panelists from current debate
3. Allow modifications before generating new debate
4. This would be a separate feature enhancement (e.g., US6.1 or separate user story)

---

**Revision Approval**: Specification updated to match implemented behavior per user request  
**Constitution Check**: ✅ PASS - Simpler UX aligns with Principle III (Simplicity Over Complexity)
